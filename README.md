# 提示词工程管理工具

这是一个使用 Python 和 PySide6 构建的桌面应用程序，旨在帮助用户高效地创建、管理、测试和优化他们的提示词（Prompts）。它集成了本地存储、版本控制、AI辅助和语义搜索等高级功能，是提示词工程师和AI应用开发者的得力助手。

---

## ✨ 核心功能

- **强大的模板管理**: 
  - 使用 `{{变量}}` 语法创建动态提示词模板。
  - 在“模板编辑区”和“实时预览区”双栏视图中高效工作。
  - 支持在编辑器中输入“/”快速插入变量。

- **智能AI辅助**: 
  - **AI生成**: 只需输入您的需求，即可让AI为您生成高质量的提示词模板。
  - **AI优化**: 对现有提示词进行一键优化，并支持**自定义优化指令**，让优化过程尽在掌握。

- **双重搜索模式**:
  - **关键词筛选**: 快速根据标题或标签筛选提示词列表。
  - **语义检索**: 输入您的问题或场景，应用会通过Embedding向量计算，找出语义最相关的提示词。

- **完善的组织与版本控制**:
  - **标签系统**: 为每个提示词添加多个标签，支持双击编辑和一键删除。
  - **历史版本**: 自动记录每次保存，随时可以查看、预览和恢复到任一历史版本。
  - **自动保存**: 每分钟自动保存您的修改，确保工作不丢失。

- **便捷的数据管理**:
  - **一键导入/导出**: 轻松地将本地的 `.txt` 文件批量导入为提示词，或将库中的所有提示词导出为 `.txt` 文件备份。
  - **配置持久化**: 所有API设置（LLM及Embedding模型）将自动保存在 `config.json` 中，无需重复输入。

## 🚀 如何启动

本项目已为您打包好一个便捷的Windows启动脚本。

1.  确保您的系统中已安装 Python 3.8 或更高版本。
2.  双击项目根目录下的 `run.bat` 文件。

脚本将会自动完成以下所有操作：
- 创建一个独立的Python虚拟环境 (`venv` 文件夹)。
- 激活虚拟环境。
- 安装所有必要的依赖库。
- 启动应用程序主窗口。

## ⚙️ API 配置

为了使用AI生成、优化和语义搜索功能，您需要配置您的API信息。

1.  启动应用后，点击界面右上角的“**设置**”按钮。
2.  在弹出的窗口中，填入您的API信息：
    - **LLM (生成/优化)**: 用于生成和优化提示词的大语言模型API，需兼容OpenAI的API格式。
    - **Embedding (语义搜索)**: 用于将文本转换为向量的Embedding模型API。
3.  点击“保存”。所有配置将保存在项目根目录的 `config.json` 文件中。

## 📖 操作指南

1.  **创建与编辑提示词**:
    - 点击左下角的“**新建**”按钮创建一个新的提示词。
    - 在中间的“**模板编辑区**”编写您的提示词。您可以使用 `{{变量名}}` 的格式来定义变量。
    - 右侧的“**实时预览区**”会立刻显示最终生成的提示词。

2.  **处理变量**:
    - 当您在模板中定义了变量（如 `{{用户输入}}`），最右侧的“**变量编辑区**”会自动出现，并为每个变量提供一个输入框。
    - 在变量输入框中键入内容，“实时预览区”会同步更新。
    - 您也可以在“模板编辑区”中输入 `/`，然后按提示快速插入一个新的变量。

3.  **管理标签**:
    - 在编辑器下方的标签区，输入标签名后按 `Enter` 或点击“**添加**”按钮来为提示词打上标签。
    - **双击**任意一个已存在的标签，可以对其进行**重命名**。
    - 点击标签旁边的小“**x**”按钮，可以**删除**该标签。

4.  **使用AI功能**:
    - **AI生成**: 点击“模板编辑区”下方的“**AI 生成**”按钮，输入您的需求，AI将为您生成一个全新的模板。
    - **AI优化**: 点击“**AI 优化**”按钮，您可以在弹出的窗口中修改优化指令，然后让AI帮您改进当前的提示词模板。

5.  **搜索与检索**:
    - **筛选**: 在左上角的“**筛选列表**”框中输入关键词，可以按标题和标签实时过滤列表。
    - **语义搜索**: 在应用最上方的“**智能检索**”框中输入一个完整的句子或问题，然后点击“语义搜索”，应用将找出内容最相关的提示词。

6.  **保存与历史**:
    - 应用默认**每分钟自动保存**一次。您也可以随时点击“**立即保存**”按钮。
    - 点击右上角的“**查看历史**”按钮，可以查看当前提示词的所有历史版本，并选择恢复。

## 🛠️ 技术栈

- **后端逻辑**: Python 3
- **图形界面 (GUI)**: PySide6 (Qt for Python)
- **数据存储**: SQLite (本地数据库)
- **向量计算**: NumPy
- **API通信**: Requests
